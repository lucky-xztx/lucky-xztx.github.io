<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>基础折线图</title>
      <link href="/2022/11/12/%E5%9F%BA%E7%A1%80%E6%8A%98%E7%BA%BF%E5%9B%BE/"/>
      <url>/2022/11/12/%E5%9F%BA%E7%A1%80%E6%8A%98%E7%BA%BF%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="接下来进入折线图"><a href="#接下来进入折线图" class="headerlink" title="接下来进入折线图"></a>接下来进入折线图</h1><p>我们做一个每三秒刷新一次温度</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基础折线图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#myLine</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myLine&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> mychar=echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myLine&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&quot;气温图&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&#x27;MON&#x27;</span>,<span class="string">&#x27;TUE&#x27;</span>,<span class="string">&#x27;WED&#x27;</span>,<span class="string">&#x27;THU&#x27;</span>,<span class="string">&#x27;FRI&#x27;</span>,<span class="string">&#x27;SAT&#x27;</span>,<span class="string">&#x27;SUN&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisLabel</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">res</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> res+<span class="string">&quot;°C&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;气温&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>:&#123;<span class="attr">show</span>:<span class="literal">true</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;option.<span class="property">xAxis</span>.<span class="property">data</span>.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()+<span class="number">1</span>)*<span class="number">20</span>))</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        mychar.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">shift</span>()</span></span><br><span class="line"><span class="language-javascript">                option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>()+<span class="number">1</span>)*<span class="number">20</span>))</span></span><br><span class="line"><span class="language-javascript">                 mychar.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">        &#125; ,<span class="number">3000</span>)    <span class="comment">//这边是毫秒 这个函数是每3秒执行一次</span></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="查看效果"><a href="#查看效果" class="headerlink" title="查看效果"></a>查看效果</h2><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myLine{            height: 400px;            width: 600px;        }</style><div id="myLine"></div><script>        let mychar=echarts.init(document.getElementById('myLine'));        let option={            title:{                text:"气温图"            },            xAxis:{                type:'category',                data:['MON','TUE','WED','THU','FRI','SAT','SUN']            },            yAxis:{                type:'value',                axisLabel:{                    formatter:function(res){                        return res+"°C"                    }                }            },            series:[                {                    type:'line',                    name:'气温',                    data:[],                    label:{show:true}                }            ]        };        for (let i=0;i<option.xAxis.data.length;i++){            option.series[0].data.push(Math.floor((Math.random()+1)*20))        };        mychar.setOption(option);        setInterval(()=>{                option.series[0].data.shift()                option.series[0].data.push(Math.floor((Math.random()+1)*20))                 mychar.setOption(option);        } ,3000)    //这边是毫秒 这个函数是每3秒执行一次    </script>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进阶饼图</title>
      <link href="/2022/11/12/%E9%A5%BC%E5%9B%BE%E8%BF%9B%E9%98%B6/"/>
      <url>/2022/11/12/%E9%A5%BC%E5%9B%BE%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="饼图进阶"><a href="#饼图进阶" class="headerlink" title="饼图进阶"></a>饼图进阶</h1><p>听过玫瑰图吗？？？</p><p>听过圆角形图吗？？？</p><h2 id="我们先来看图角形图吧"><a href="#我们先来看图角形图吧" class="headerlink" title="我们先来看图角形图吧"></a>我们先来看图角形图吧</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;圆角图&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #myPie&#123;</span><br><span class="line">            height: 600px;</span><br><span class="line">            width: 600px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;myPie&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let mychar=echarts.init(document.getElementById(&#x27;myPie&#x27;));</span><br><span class="line">        let option=&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                text:&#x27;双十一售出占比&#x27;,</span><br><span class="line">                subtext:&quot;我是副标题&quot;,</span><br><span class="line">                left:&#x27;center&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            legend:&#123;</span><br><span class="line">                left:0,</span><br><span class="line">                orient:&#x27;vertical&#x27;   //修改朝向布局</span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip:&#123;</span><br><span class="line">                formatter:function(res)&#123;</span><br><span class="line">                    // console.log(res);</span><br><span class="line">                    return res.name+&quot;平台卖出:&quot;+res.value+&quot;\n占比率:&quot;+res.percent</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            series:[</span><br><span class="line">               &#123;</span><br><span class="line">                type:&#x27;pie&#x27;,</span><br><span class="line">                data:[],</span><br><span class="line">                name:&quot;双十一&quot;,</span><br><span class="line">                radius:[&quot;20%&quot;,&quot;60%&quot;]    //可以设置内径和外径圆</span><br><span class="line">               &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;;</span><br><span class="line">        let name=[&#x27;淘宝&#x27;,&quot;京东&quot;,&quot;拼多多&quot;,&quot;抖音&quot;,&quot;其他&quot;];</span><br><span class="line">        for (let x of name)&#123;</span><br><span class="line">            option.series[0].data.push(&#123;</span><br><span class="line">                &#x27;name&#x27; : x,</span><br><span class="line">                &#x27;value&#x27; : Math.floor(Math.random()*1000)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        mychar.setOption(option);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>没错就是加个代码就好了，就是这么简单</p><h2 id="我们来看效果吧"><a href="#我们来看效果吧" class="headerlink" title="我们来看效果吧!"></a>我们来看效果吧!</h2><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myPie{            height: 600px;            width: 600px;        } </style><div id="myPie"></div><script>        let mychar=echarts.init(document.getElementById('myPie'));        let option={            title:{                text:'双十一售出占比',                subtext:"我是副标题",                left:'center'            },            legend:{                left:0,                orient:'vertical'   //修改朝向布局            },            tooltip:{                formatter:function(res){                    // console.log(res);                    return res.name+"平台卖出:"+res.value+"\n占比率:"+res.percent                }            },            series:[               {                type:'pie',                data:[],                name:"双十一",                radius:["20%","60%"]               }            ]        };        let name=['淘宝',"京东","拼多多","抖音","其他"];        for (let x of name){            option.series[0].data.push({                'name' : x,                'value' : Math.floor(Math.random()*1000)            });        }        mychar.setOption(option); </script><h2 id="接下去下一个玫瑰图"><a href="#接下去下一个玫瑰图" class="headerlink" title="接下去下一个玫瑰图!"></a>接下去下一个玫瑰图!</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;玫瑰图&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #myPie&#123;</span><br><span class="line">            height: 600px;</span><br><span class="line">            width: 600px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;myPie&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let mychar=echarts.init(document.getElementById(&#x27;myPie&#x27;));</span><br><span class="line">        let option=&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                text:&#x27;双十一售出占比&#x27;,</span><br><span class="line">                subtext:&quot;我是副标题&quot;,</span><br><span class="line">                left:&#x27;center&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            legend:&#123;</span><br><span class="line">                left:0,</span><br><span class="line">                orient:&#x27;vertical&#x27;   //修改朝向布局</span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip:&#123;</span><br><span class="line">                formatter:function(res)&#123;</span><br><span class="line">                    // console.log(res);</span><br><span class="line">                    return res.name+&quot;平台卖出:&quot;+res.value+&quot;\n占比率:&quot;+res.percent</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            series:[</span><br><span class="line">               &#123;</span><br><span class="line">                type:&#x27;pie&#x27;,</span><br><span class="line">                data:[],</span><br><span class="line">                name:&quot;双十一&quot;,</span><br><span class="line">                roseType:&#x27;area&#x27;,    //看起来好像好了，但看起来太尖锐了,我们设置一下边角吧</span><br><span class="line">                itemStyle:&#123;</span><br><span class="line">                    borderRadius:5</span><br><span class="line">                &#125;</span><br><span class="line">               &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;;</span><br><span class="line">        let name=[&#x27;淘宝&#x27;,&quot;京东&quot;,&quot;拼多多&quot;,&quot;抖音&quot;,&quot;其他&quot;];</span><br><span class="line">        for (let x of name)&#123;</span><br><span class="line">            option.series[0].data.push(&#123;</span><br><span class="line">                &#x27;name&#x27; : x,</span><br><span class="line">                &#x27;value&#x27; : Math.floor(Math.random()*1000)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        mychar.setOption(option);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>这就好了</p><h2 id="继续查看效果"><a href="#继续查看效果" class="headerlink" title="继续查看效果:"></a>继续查看效果:</h2><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myPie1{            height: 600px;            width: 600px;        }</style><div id="myPie1"></div><script>        let mychar1=echarts.init(document.getElementById('myPie1'));        let option1={            title:{                text:'双十一售出占比',                subtext:"我是副标题",                left:'center'            },            legend:{                left:0,                orient:'vertical'   //修改朝向布局            },            tooltip:{                formatter:function(res){                    // console.log(res);                    return res.name+"平台卖出:"+res.value+"\n占比率:"+res.percent                }            },            series:[               {                type:'pie',                data:[],                name:"双十一",                roseType:'area',    //看起来好像好了，但看起来太尖锐了,我们设置一下边角吧                itemStyle:{                    borderRadius:5                }               }            ]        };        let name1=['淘宝',"京东","拼多多","抖音","其他"];        for (let x of name1){            option1.series[0].data.push({                'name' : x,                'value' : Math.floor(Math.random()*1000)            });        }        mychar1.setOption(option1);</script>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基础饼图</title>
      <link href="/2022/11/12/%E5%9F%BA%E7%A1%80%E9%A5%BC%E5%9B%BE/"/>
      <url>/2022/11/12/%E5%9F%BA%E7%A1%80%E9%A5%BC%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="接下来我们进入饼图学习"><a href="#接下来我们进入饼图学习" class="headerlink" title="接下来我们进入饼图学习"></a>接下来我们进入饼图学习</h1><p>柱状图还需在学习</p><p>我们先进入下一个图形</p><h2 id="饼图"><a href="#饼图" class="headerlink" title="饼图:"></a>饼图:</h2><p>因为数据是随机的，不做任何参考作业.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>饼图基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#myPie</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myPie&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> mychar=echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myPie&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;双十一售出占比&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>:<span class="string">&quot;我是副标题&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>:<span class="string">&#x27;vertical&#x27;</span>   <span class="comment">//修改朝向布局</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>:<span class="keyword">function</span>(<span class="params">res</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// console.log(res);</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> res.<span class="property">name</span>+<span class="string">&quot;平台卖出:&quot;</span>+res.<span class="property">value</span>+<span class="string">&quot;\n占比率:&quot;</span>+res.<span class="property">percent</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">               &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;pie&#x27;</span>,  <span class="comment">//设置饼图布局</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&quot;双十一&quot;</span></span></span><br><span class="line"><span class="language-javascript">               &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> name=[<span class="string">&#x27;淘宝&#x27;</span>,<span class="string">&quot;京东&quot;</span>,<span class="string">&quot;拼多多&quot;</span>,<span class="string">&quot;抖音&quot;</span>,<span class="string">&quot;其他&quot;</span>];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> name)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//注意这边传入的数据是键值对，也就是字典类型的数据然后封装到数组里</span></span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">push</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&#x27;name&#x27;</span> : x,</span></span><br><span class="line"><span class="language-javascript">                <span class="string">&#x27;value&#x27;</span> : <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">1000</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        mychar.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="一如既往我们看看效果"><a href="#一如既往我们看看效果" class="headerlink" title="一如既往我们看看效果:"></a>一如既往我们看看效果:</h2><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myPie{            height: 600px;            width: 600px;        }</style><div id="myPie"></div>    <script>        let mychar=echarts.init(document.getElementById('myPie'));        let option={            title:{                text:'双十一售出占比',                subtext:"我是副标题",                left:'center'            },            legend:{                left:0,                orient:'vertical'   //修改朝向布局            },            tooltip:{                formatter:function(res){                    // console.log(res);                    return res.name+"平台卖出:"+res.value+"\n占比率:"+res.percent                }            },            series:[               {                type:'pie',                data:[],                name:"双十一"               }            ]        };        let name=['淘宝',"京东","拼多多","抖音","其他"];        for (let x of name){            option.series[0].data.push({                'name' : x,                'value' : Math.floor(Math.random()*1000)            });        }        mychar.setOption(option);    </script>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进阶柱状图</title>
      <link href="/2022/11/12/%E6%9F%B1%E7%8A%B6%E5%9B%BE%E8%BF%9B%E9%98%B6/"/>
      <url>/2022/11/12/%E6%9F%B1%E7%8A%B6%E5%9B%BE%E8%BF%9B%E9%98%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="进阶柱状图"><a href="#进阶柱状图" class="headerlink" title="进阶柱状图"></a>进阶柱状图</h1><p>学完我们柱状图基础开始进阶一点小知识吧！！！</p><p>我们代码复制上一个柱状图！！！</p><h2 id="打开我们的vodece开始吧！！！"><a href="#打开我们的vodece开始吧！！！" class="headerlink" title="打开我们的vodece开始吧！！！"></a>打开我们的vodece开始吧！！！</h2><p>这边我们采用在线地址引用</p><p>我们如果没有设置堆叠效果的代码</p><p>当有多个数据的时候，既有语文成绩,也有数学成绩</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>柱状图进阶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#myBar</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myBar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChar=echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myBar&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;我居中啦&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;center&#x27;</span>   <span class="comment">//对标题居中对齐</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">0</span>       <span class="comment">//设置图例靠左</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&#x27;axis&#x27;</span>,     <span class="comment">//靠近行显示数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;shadow&#x27;</span>   <span class="comment">//移动标的样式</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;小周&quot;</span>,<span class="string">&quot;小红&quot;</span>,<span class="string">&quot;小白&quot;</span>,<span class="string">&quot;小明&quot;</span>,<span class="string">&quot;小黄&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;姓名&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;分数&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;语文&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markLine</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lineStyle</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">normal</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">type</span>:<span class="string">&#x27;dashed&#x27;</span>   <span class="comment">//设置虚线</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            </span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[&#123;<span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>,<span class="attr">name</span>:<span class="string">&quot;最小值&quot;</span>&#125;,&#123;<span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>,<span class="attr">name</span>:<span class="string">&quot;最大值&quot;</span>&#125;]    <span class="comment">//设置最大值和最小值线条</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;数学&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">markPoint</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>:[</span></span><br><span class="line"><span class="language-javascript">                            &#123;<span class="attr">type</span>:<span class="string">&#x27;min&#x27;</span>&#125;,   <span class="comment">//最小值</span></span></span><br><span class="line"><span class="language-javascript">                            &#123;<span class="attr">type</span>:<span class="string">&#x27;max&#x27;</span>&#125;    <span class="comment">//最大值</span></span></span><br><span class="line"><span class="language-javascript">                        ]</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;英语&#x27;</span>,        </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">show</span>:<span class="literal">true</span>,          <span class="comment">//显示文字</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">position</span>:<span class="string">&#x27;top&#x27;</span>      <span class="comment">//设置文字在顶部</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;option.<span class="property">xAxis</span>.<span class="property">data</span>.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">1</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChar.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果如下</p><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myBar{            height: 400px;            width: 600px;        }</style><div id="myBar"></div><script>        let myChar=echarts.init(document.getElementById('myBar'));        let option={            title:{                text:'我居中啦',                left:'center'   //对标题居中对齐            },            legend:{                left:0            },            tooltip:{                trigger:'axis',     //靠近行显示数                axisPointer:{                    type:'shadow'   //移动标的样式                }            },            xAxis:{                type:'category',                data:["小周","小红","小白","小明","小黄"],                name:'姓名'            },            yAxis:{                type:'value',                name:'分数'            },            series:[                {                    type:'bar',                    data:[],                    name:'语文',                    markLine:{                        lineStyle:{                            normal:{                                type:'dashed'   //设置虚线                            }                    },                    data:[{type:'min',name:"最小值"},{type:'max',name:"最大值"}]    //设置最大值和最小值线条                }            },            {                type:'bar',                data:[],                name:'数学',                markPoint:{                    data:[                        {type:'min'},   //最小值                        {type:'max'}    //最大值                    ]                }            },            {                type:'bar',                data:[],                name:'英语',                        label:{                    show:true,          //显示文字                    position:'top'      //设置文字在顶部                }            }        ]    };    for (let i=0;i<option.xAxis.data.length;i++){        option.series[0].data.push(Math.floor(Math.random()*100));        option.series[1].data.push(Math.floor(Math.random()*100));        option.series[2].data.push(Math.floor(Math.random()*100));    }    myChar.setOption(option);</script>## 接下去展示堆叠效果,当数据量大了我们就可能用到了<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>柱状图进阶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#myBar</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myBar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myChar=echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myBar&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> option=&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>:<span class="string">&#x27;我居中啦&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="string">&#x27;center&#x27;</span>   <span class="comment">//对标题居中对齐</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>:<span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>:<span class="string">&#x27;axis&#x27;</span>,     <span class="comment">//靠近行显示数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">axisPointer</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;shadow&#x27;</span>   <span class="comment">//移动标的样式</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;category&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:[<span class="string">&quot;小周&quot;</span>,<span class="string">&quot;小红&quot;</span>,<span class="string">&quot;小白&quot;</span>,<span class="string">&quot;小明&quot;</span>,<span class="string">&quot;小黄&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;姓名&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>:<span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;分数&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;语文&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;all&#x27;</span><span class="comment">//进行堆叠</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;数学&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                   <span class="attr">stack</span>:<span class="string">&#x27;all&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>:<span class="string">&#x27;bar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>:[],</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;英语&#x27;</span>,        </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">stack</span>:<span class="string">&#x27;all&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;option.<span class="property">xAxis</span>.<span class="property">data</span>.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">1</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">            option.<span class="property">series</span>[<span class="number">2</span>].<span class="property">data</span>.<span class="title function_">push</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">100</span>));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        myChar.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>        #myBar1{            height: 400px;            width: 600px;        }</style><div id="myBar1"></div><script>        let myChar1=echarts.init(document.getElementById('myBar1'));        let option1={            title:{                text:'我居中啦',                left:'center'   //对标题居中对齐            },            legend:{                left:0            },            tooltip:{                trigger:'axis',     //靠近行显示数                axisPointer:{                    type:'shadow'   //移动标的样式                }            },            xAxis:{                type:'category',                data:["小周","小红","小白","小明","小黄"],                name:'姓名'            },            yAxis:{                type:'value',                name:'分数'            },            series:[                {                    type:'bar',                    data:[],                    name:'语文',                    stack:'all'            },            {                type:'bar',                data:[],                name:'数学',                stack:'all'            },            {                type:'bar',                data:[],                name:'英语',                       stack:'all'            }        ]    };    for (let i=0;i<option.xAxis.data.length;i++){        option1.series[0].data.push(Math.floor(Math.random()*100));        option1.series[1].data.push(Math.floor(Math.random()*100));        option1.series[2].data.push(Math.floor(Math.random()*100));    }    myChar1.setOption(option1);</script>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基础柱状图</title>
      <link href="/2022/11/12/%E6%9F%B1%E7%8A%B6%E5%9B%BE/"/>
      <url>/2022/11/12/%E6%9F%B1%E7%8A%B6%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="开始我们的echarts之旅吧"><a href="#开始我们的echarts之旅吧" class="headerlink" title="开始我们的echarts之旅吧"></a>开始我们的echarts之旅吧</h1><p>这边建议去看官方文档学习</p><p>这是官网地址:<a href="https://echarts.apache.org/">https://echarts.apache.org/</a></p><p>进入我们重点啦，我们生活柱状图有啥？？？</p><p>没错有x轴和y轴，还有数据</p><p>同理我们在echrts配置也是只要配置这些即可</p><h2 id="打开我们的vodece开始吧！！！"><a href="#打开我们的vodece开始吧！！！" class="headerlink" title="打开我们的vodece开始吧！！！"></a>打开我们的vodece开始吧！！！</h2><p>这边我们采用在线地址引用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>柱状图<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#myBar</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">400px</span>;  #设置高度</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;#设置宽度</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myBar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        let myChar=echarts.init(document.getElementById(&#x27;myBar&#x27;));</span><br><span class="line">        let option=&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                text:&#x27;我是柱状图的标题&#x27;    #设置标题</span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis:&#123;</span><br><span class="line">                type:&#x27;category&#x27;,</span><br><span class="line">                data:[&quot;小周&quot;,&quot;小红&quot;,&quot;小白&quot;,&quot;小明&quot;,&quot;小黄&quot;]</span><br><span class="line">            &#125;,</span><br><span class="line">            yAxis:&#123;</span><br><span class="line">                type:&#x27;value&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            series:[</span><br><span class="line">                &#123;</span><br><span class="line">                    type:&#x27;bar&#x27;,</span><br><span class="line">                    data:[],</span><br><span class="line">                    name:&#x27;语文&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;;</span><br><span class="line">        for (let i=0;i&lt;option.xAxis.data.length;i++)&#123;</span><br><span class="line">            option.series[0].data.push(Math.floor(Math.random()*100));</span><br><span class="line">        &#125;</span><br><span class="line">        myChar.setOption(option);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="效果如下："><a href="#效果如下：" class="headerlink" title="效果如下："></a>效果如下：</h2><p>因为采用随机数<br>所有每次刷新都不一样</p><script src="https://cdn.staticfile.org/echarts/5.0.0/echarts.min.js"></script><style>    #myBar{        height: 400px;        width: 600px;    }</style><div id="myBar"></div><script>        let myChar=echarts.init(document.getElementById('myBar'));        let option={            title:{                text:'我是柱状图的标题'            },            xAxis:{                type:'category',                data:["小周","小红","小白","小明","小黄"]            },            yAxis:{                type:'value'            },            series:[                {                    type:'bar',                    data:[],                    name:'语文'                }            ]        };        for (let i=0;i<option.xAxis.data.length;i++){            option.series[0].data.push(Math.floor(Math.random()*100));        }        myChar.setOption(option);    </script>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
            <tag> HTML </tag>
            
            <tag> CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis安装部署</title>
      <link href="/2022/11/12/Redis%E5%AE%89%E8%A3%85/"/>
      <url>/2022/11/12/Redis%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h1 id="实操：Redis安装部署"><a href="#实操：Redis安装部署" class="headerlink" title="实操：Redis安装部署"></a>实操：Redis安装部署</h1><h2 id="【环境】"><a href="#【环境】" class="headerlink" title="【环境】"></a>【环境】</h2><p>​    防火墙、SELinux均已关闭。<br>​    安装包位于root目录下。</p><h3 id="因为我是部署在docker容器下的centos7下的，很多依赖都没安装-我们先安装一下依赖吧"><a href="#因为我是部署在docker容器下的centos7下的，很多依赖都没安装-我们先安装一下依赖吧" class="headerlink" title="因为我是部署在docker容器下的centos7下的，很多依赖都没安装,我们先安装一下依赖吧."></a>因为我是部署在docker容器下的centos7下的，很多依赖都没安装,我们先安装一下依赖吧.</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc automake autoconf libtool make</span><br></pre></td></tr></table></figure><h3 id="把安装包解压到-usr-local-src目录下"><a href="#把安装包解压到-usr-local-src目录下" class="headerlink" title="把安装包解压到/usr/local/src目录下"></a>把安装包解压到/usr/local/src目录下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/redis-4.0.1.tar.gz -C /usr/local/src/</span><br></pre></td></tr></table></figure><h3 id="切换到"><a href="#切换到" class="headerlink" title="切换到"></a>切换到</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/redis-4.0.1</span><br><span class="line">make</span><br></pre></td></tr></table></figure><h3 id="如果执行make命令报错：致命错误-jemalloc-jemalloc-h-没有那个文件或目录，则需要在make指定分配器为libc。执行下面命令即可正常编译"><a href="#如果执行make命令报错：致命错误-jemalloc-jemalloc-h-没有那个文件或目录，则需要在make指定分配器为libc。执行下面命令即可正常编译" class="headerlink" title="如果执行make命令报错：致命错误:jemalloc/jemalloc.h: 没有那个文件或目录，则需要在make指定分配器为libc。执行下面命令即可正常编译"></a>如果执行make命令报错：致命错误:jemalloc/jemalloc.h: 没有那个文件或目录，则需要在make指定分配器为libc。执行下面命令即可正常编译</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make MALLOC=libc</span><br></pre></td></tr></table></figure><h3 id="再执行一次"><a href="#再执行一次" class="headerlink" title="再执行一次:"></a>再执行一次:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><h3 id="这样就完成编译了，接下去开始安装"><a href="#这样就完成编译了，接下去开始安装" class="headerlink" title="这样就完成编译了，接下去开始安装:"></a>这样就完成编译了，接下去开始安装:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install PREFIX=/usr/local/src/redis-4.0.1</span><br></pre></td></tr></table></figure><p>这样就安装成功了</p><h2 id="接下来是启动redis"><a href="#接下来是启动redis" class="headerlink" title="接下来是启动redis:"></a>接下来是启动redis:</h2><h3 id="进入我们安装的目录下"><a href="#进入我们安装的目录下" class="headerlink" title="进入我们安装的目录下:"></a>进入我们安装的目录下:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/lcoal/src/redis-4.0.1</span><br><span class="line">./bin/redis-server redis.conf</span><br></pre></td></tr></table></figure><h3 id="此时服务就已经启动了，我们可以开启另一个终端试一试"><a href="#此时服务就已经启动了，我们可以开启另一个终端试一试" class="headerlink" title="此时服务就已经启动了，我们可以开启另一个终端试一试"></a>此时服务就已经启动了，我们可以开启另一个终端试一试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/lcoal/src/redis-4.0.1</span><br><span class="line">./bin/redis-cli</span><br></pre></td></tr></table></figure><h3 id="接下去我们在客户端尝试使用"><a href="#接下去我们在客户端尝试使用" class="headerlink" title="接下去我们在客户端尝试使用:"></a>接下去我们在客户端尝试使用:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping #当返回pong证明安装成功</span><br></pre></td></tr></table></figure><p>简单吧，这就结束啦！！！</p><p>我们下期见！</p><p>——周毅盛</p><p>2022年11月12日</p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>测试</title>
      <link href="/2022/11/12/%E6%B5%8B%E8%AF%95/"/>
      <url>/2022/11/12/%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>放弃很容易，但坚持一定会有收获！</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SQOOP遇到问题</title>
      <link href="/2022/10/20/sqoop%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98/"/>
      <url>/2022/10/20/sqoop%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="sqoop导入遇到的问题"><a href="#sqoop导入遇到的问题" class="headerlink" title="sqoop导入遇到的问题"></a>sqoop导入遇到的问题</h1><p>当我们导入执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop export --connect jdbc:mysql://master:3306/testdb --table Student --username root --password 123456 --export-dir hdfs://master:9000/xz/mysql.log --input-fields-terminated-by &#x27;,&#x27;</span><br></pre></td></tr></table></figure><p>查询数据库发现数据库的中文编码都是乱码<img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221020190639397.png" alt="image-20221020190639397"></p><p>则我们登入mysql中执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set character_set_database=utf8;</span><br><span class="line">set character_set_server=utf8;</span><br></pre></td></tr></table></figure><p>然后在重新导入依次，导入的时候链接地址加上</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?useUnicode=true&amp;characterEncoding=utf-8</span><br></pre></td></tr></table></figure><p>也就是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop export --connect jdbc:mysql://master:3306/testdb?useUnicode=true&amp;characterEncoding=utf-8 --table Student --username root --password 123456 --export-dir hdfs://master:9000/xz/mysql.log --input-fields-terminated-by &#x27;,&#x27;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> SQOOP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> SQOOP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop高性能安装</title>
      <link href="/2022/10/16/Ha%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/16/Ha%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="实操：Hadoop分布式HA部署"><a href="#实操：Hadoop分布式HA部署" class="headerlink" title="实操：Hadoop分布式HA部署"></a>实操：Hadoop分布式HA部署</h1><h2 id="【环境】"><a href="#【环境】" class="headerlink" title="【环境】"></a>【环境】</h2><p>​    master 192.168.196.10<br>​    slave1 192.168.196.20<br>​    slave2 192.168.196.30<br>​    用户名root；密码：passwd<br>​    主机名、主机名与IP地址对应关系、免密码登录均已配置。<br>​    防火墙、SELinux均已关闭。<br>​    安装包位于root目录下。</p><h3 id="【安装jdk】"><a href="#【安装jdk】" class="headerlink" title="【安装jdk】"></a>【安装jdk】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/jdk-8u221-linux-x64.tar.gz -C /usr/local/src/</span><br><span class="line">cd /usr/local/src/</span><br><span class="line">mv jdk1.8.0_221 jdk</span><br><span class="line">ll jdk/</span><br><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><h3 id="在末尾添加"><a href="#在末尾添加" class="headerlink" title="在末尾添加:"></a>在末尾添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行，让环境生效"><a href="#执行，让环境生效" class="headerlink" title="执行，让环境生效"></a>执行，让环境生效</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><h3 id="【安装zookeeper】"><a href="#【安装zookeeper】" class="headerlink" title="【安装zookeeper】"></a>【安装zookeeper】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/zookeeper-3.4.5.tar.gz -C /usr/local/src/</span><br><span class="line">cd /usr/local/src/</span><br><span class="line">mv zookeeper-3.4.5 zookeeper</span><br><span class="line">ll zookeeper/</span><br><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><h3 id="在末尾处添加"><a href="#在末尾处添加" class="headerlink" title="在末尾处添加:"></a>在末尾处添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZK_HOME=/usr/local/src/zookeeper</span><br><span class="line">export PATH=$PATH:$ZK_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行环境变量"><a href="#执行环境变量" class="headerlink" title="执行环境变量:"></a>执行环境变量:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="切换到zookeeper下的conf配置目录下"><a href="#切换到zookeeper下的conf配置目录下" class="headerlink" title="切换到zookeeper下的conf配置目录下"></a>切换到zookeeper下的conf配置目录下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/zookeeper/conf</span><br><span class="line">cp zoo_sample.cfg zoo.cfg</span><br><span class="line">vim zoo.cfg</span><br></pre></td></tr></table></figure><h3 id="修改："><a href="#修改：" class="headerlink" title="修改："></a>修改：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dataDir=/usr/local/src/zookeeper/data</span><br><span class="line">添加（主机名:选举端口号:通信端口号）：</span><br><span class="line">server.1=master:2888:3888</span><br><span class="line">server.2=slave1:2888:3888</span><br><span class="line">server.3=slave2:2888:3888</span><br></pre></td></tr></table></figure><h3 id="创建myid文件"><a href="#创建myid文件" class="headerlink" title="创建myid文件"></a>创建myid文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/zookeeper/</span><br><span class="line">mkdir data</span><br><span class="line">cd data</span><br><span class="line">echo 1 &gt; myid</span><br></pre></td></tr></table></figure><h3 id="分发文件"><a href="#分发文件" class="headerlink" title="分发文件:"></a>分发文件:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/* slave1:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/profile</span><br><span class="line"></span><br><span class="line">scp -r /usr/local/src/* slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave2:/etc/profile</span><br></pre></td></tr></table></figure><h3 id="slave1："><a href="#slave1：" class="headerlink" title="slave1："></a>slave1：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">echo 2 &gt; /usr/local/src/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h3 id="slave2："><a href="#slave2：" class="headerlink" title="slave2："></a>slave2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">echo 3 &gt; /usr/local/src/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h3 id="分别启动节点"><a href="#分别启动节点" class="headerlink" title="分别启动节点"></a>分别启动节点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="分别查询状态"><a href="#分别查询状态" class="headerlink" title="分别查询状态"></a>分别查询状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh status</span><br></pre></td></tr></table></figure><p>（存在2个follower、1个leader）</p><h2 id="【解压hadoop】"><a href="#【解压hadoop】" class="headerlink" title="【解压hadoop】"></a>【解压hadoop】</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/hadoop-2.6.0.tar.gz -C /usr/local/src</span><br><span class="line">cd /usr/local/src</span><br><span class="line">mv hadoop-2.6.0 hadoop</span><br><span class="line">ll hadoop/</span><br><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><h3 id="在末尾处添加-1"><a href="#在末尾处添加-1" class="headerlink" title="在末尾处添加:"></a>在末尾处添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/usr/local/src/hadoop</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure><h3 id="执行生效"><a href="#执行生效" class="headerlink" title="执行生效:"></a>执行生效:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure><h3 id="【修改配置】"><a href="#【修改配置】" class="headerlink" title="【修改配置】"></a>【修改配置】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/hadoop/etc/hadoop</span><br></pre></td></tr></table></figure><h3 id="（1）hadoop-env-sh"><a href="#（1）hadoop-env-sh" class="headerlink" title="（1）hadoop-env.sh"></a>（1）hadoop-env.sh</h3><p>修改：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br></pre></td></tr></table></figure><h3 id="（2）core-site-xml"><a href="#（2）core-site-xml" class="headerlink" title="（2）core-site.xml"></a>（2）core-site.xml</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hdfs://mycluster&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;/usr/local/src/hadoop/tmp&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;master:2181,slave1:2181,slave2:2181&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="（3）hdfs-site-xml"><a href="#（3）hdfs-site-xml" class="headerlink" title="（3）hdfs-site.xml"></a>（3）hdfs-site.xml</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;3&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;/usr/local/src/hadoop/name&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;/usr/local/src/hadoop/data&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.permissions.enabled&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.nameservices&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;mycluster&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.ha.namenodes.mycluster&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;nn1,nn2&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn1&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;master:8020&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt; </span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn2&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;slave1:8020&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt; </span><br><span class="line"></span><br><span class="line">   &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.namenode.http-address.mycluster.nn1&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;master:50070&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt;  </span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.namenode.http-address.mycluster.nn2&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;slave1:50070&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt; </span><br><span class="line"></span><br><span class="line">  &lt;property&gt; </span><br><span class="line">    &lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;  </span><br><span class="line">    &lt;value&gt;qjournal://master:8485;slave1:8485;slave2:8485/mycluster&lt;/value&gt; </span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;</span><br><span class="line">      &lt;value&gt;/usr/local/src/hadoop/journal&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line"> &lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;</span><br><span class="line">      &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.client.failover.proxy.provider.mycluster&lt;/name&gt;</span><br><span class="line">      &lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;</span><br><span class="line">      &lt;value&gt;shell(/bin/true)&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br></pre></td></tr></table></figure><h3 id="（4）slaves"><a href="#（4）slaves" class="headerlink" title="（4）slaves"></a>（4）slaves</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure><h3 id="（5）mapred-site-xml"><a href="#（5）mapred-site-xml" class="headerlink" title="（5）mapred-site.xml"></a>（5）mapred-site.xml</h3><p>mv mapred-site.xml.template mapred-site.xml<br>vim mapred-site.xml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h3 id="（6）yarn-site-xml"><a href="#（6）yarn-site-xml" class="headerlink" title="（6）yarn-site.xml"></a>（6）yarn-site.xml</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;yrc&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;rm1,rm2&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;master&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;slave1&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">     &lt;name&gt;yarn.resourcemanager.zk-address&lt;/name&gt;</span><br><span class="line">     &lt;value&gt;master:2181,slave1:2181,slave2:2181&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h3 id="【同步数据】"><a href="#【同步数据】" class="headerlink" title="【同步数据】"></a>【同步数据】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/hadoop slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/hadoop slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/profile</span><br><span class="line">scp /etc/profile slave2:/etc/profile</span><br></pre></td></tr></table></figure><h3 id="slave1及slave2："><a href="#slave1及slave2：" class="headerlink" title="slave1及slave2："></a>slave1及slave2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h2 id="【初始化】"><a href="#【初始化】" class="headerlink" title="【初始化】"></a>【初始化】</h2><h3 id="（master、slave1及slave2，启动journalnode）"><a href="#（master、slave1及slave2，启动journalnode）" class="headerlink" title="（master、slave1及slave2，启动journalnode）"></a>（master、slave1及slave2，启动journalnode）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop-daemon.sh start journalnode</span><br></pre></td></tr></table></figure><h3 id="（master，初始化）"><a href="#（master，初始化）" class="headerlink" title="（master，初始化）"></a>（master，初始化）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br><span class="line">hdfs zkfc -formatZK</span><br></pre></td></tr></table></figure><h3 id="（master，启动hadoop）"><a href="#（master，启动hadoop）" class="headerlink" title="（master，启动hadoop）"></a>（master，启动hadoop）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure><h3 id="（slave1）"><a href="#（slave1）" class="headerlink" title="（slave1）"></a>（slave1）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -bootstrapStandby</span><br><span class="line">hadoop-daemon.sh start namenode</span><br><span class="line">yarn-daemon.sh start resourcemanager</span><br></pre></td></tr></table></figure><h3 id="【测试】"><a href="#【测试】" class="headerlink" title="【测试】"></a>【测试】</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure><p>【master】（8个进程）<br>2067 NodeManager<br>2357 Jps<br>1577 JournalNode<br>1785 DataNode<br>1882 DFSZKFailoverController<br>1979 ResourceManager<br>1373 QuorumPeerMain<br>1693 NameNode</p><p>【slave1】（8个进程）<br>1392 NameNode<br>1648 NodeManager<br>1826 Jps<br>1158 QuorumPeerMain<br>1287 JournalNode<br>1482 DataNode<br>1579 DFSZKFailoverController<br>1757 ResourceManager</p><p>【slave2】（5个进程）<br>1153 QuorumPeerMain<br>1351 DataNode<br>1452 NodeManager<br>1548 Jps<br>1279 JournalNode</p><h2 id="【启动】（若机器重启）"><a href="#【启动】（若机器重启）" class="headerlink" title="【启动】（若机器重启）"></a>【启动】（若机器重启）</h2><h3 id="（各节点）"><a href="#（各节点）" class="headerlink" title="（各节点）"></a>（各节点）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="（master节点）"><a href="#（master节点）" class="headerlink" title="（master节点）"></a>（master节点）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-all.sh（stop-all.sh）</span><br></pre></td></tr></table></figure><h4 id="（slave1节点）"><a href="#（slave1节点）" class="headerlink" title="（slave1节点）"></a>（slave1节点）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn-daemon.sh start resourcemanager</span><br></pre></td></tr></table></figure><h2 id="【测试MapReduce】"><a href="#【测试MapReduce】" class="headerlink" title="【测试MapReduce】"></a>【测试MapReduce】</h2><p>cd</p><p>vim word.txt</p><h3 id="输入一些单词并保存"><a href="#输入一些单词并保存" class="headerlink" title="输入一些单词并保存"></a>输入一些单词并保存</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir -p /wordcount/input</span><br><span class="line">hadoop fs -put word.txt /wordcount/input/</span><br><span class="line">cd /usr/local/src/hadoop/share/hadoop/mapreduce/</span><br><span class="line">hadoop jar hadoop-mapreduce-examples-2.6.0.jar wordcount /wordcount/input /wordcount/output</span><br><span class="line">hadoop fs -ls /wordcount/output</span><br><span class="line">hadoop fs -cat /wordcount/output/part*</span><br><span class="line"></span><br><span class="line">hdfs haadmin -getServiceState nn1</span><br><span class="line">hdfs haadmin -getServiceState nn2</span><br><span class="line"></span><br><span class="line">yarn rmadmin -getServiceState rm1</span><br><span class="line">yarn rmadmin -getServiceState rm2</span><br></pre></td></tr></table></figure><p><a href="http://192.168.196.10:50070/">http://192.168.196.10:50070</a><br><a href="http://192.168.196.10:8088/">http://192.168.196.10:8088</a></p><p><a href="http://192.168.196.20:50070/">http://192.168.196.20:50070</a><br><a href="http://192.168.196.20:8088/">http://192.168.196.20:8088</a></p><p>若出现问题，在master上：<br>stop-all.sh<br>start-all.sh</p><p>在Active的NameNode上：<br>hadoop-daemon.sh stop namenode<br>过一段时间，观察hdfs页面。</p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221016211917339.png" alt="image-20221016211917339"></p><p>如果出现上诉情况好好检查这段，看到没输t错了那是y</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221016211832045.png" alt="image-20221016211832045"></p><p>改完记得停止服务重启服务还有分化给其他主机哦</p><h3 id="第二个问题"><a href="#第二个问题" class="headerlink" title="第二个问题"></a>第二个问题</h3><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021191934821.png" alt="image-20221021191934821"></p><p>当遇到这个问题回去检查hdfs-site.xml配置，的那行自动切换的</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021192032290.png" alt="image-20221021192032290"></p><p>发现我们背错了</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021192156453.png" alt="image-20221021192156453"></p><p>这样才是对的，然后在去hdfs zkfc -formatZK</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021192226702.png" alt="image-20221021192226702"></p><p>如果发现少了resourcemanager这些点就回去查看yarn-site.xml</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021192421698.png" alt="image-20221021192421698"></p><p>遇到新建问题</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021193211857.png" alt="image-20221021193211857"></p><p>检查我们hdfs-site.xml配置发现</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221021193630193.png" alt="image-20221021193630193"></p><p>是pervider不是property</p><p>改完记得重启Hadoop</p><p>在初始化期间如果遇到</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221031120929446.png" alt="image-20221031120929446"></p><p>则是配置Ha的名字出错了，也就是hdfs-site.xml的配置项</p><p><img src="C:\Users\周毅盛\AppData\Roaming\Typora\typora-user-images\image-20221031122624059.png" alt="image-20221031122624059"></p><p>多打了个n</p>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flink安装</title>
      <link href="/2022/10/15/flink%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/15/flink%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Flink配置"><a href="#Flink配置" class="headerlink" title="Flink配置"></a>Flink配置</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><p>必须安装好Hadoop</p><h3 id="依旧来到root目录下找到flink压缩包进行解压"><a href="#依旧来到root目录下找到flink压缩包进行解压" class="headerlink" title="依旧来到root目录下找到flink压缩包进行解压:"></a>依旧来到root目录下找到flink压缩包进行解压:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/flink-1.10.2-bin-scala_2.11.tgz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/flink-1.10.2/ /usr/local/src/flink#修改文件夹名称</span><br><span class="line">vi /etc/profile#修改环境变量</span><br></pre></td></tr></table></figure><h3 id="在末尾处添加"><a href="#在末尾处添加" class="headerlink" title="在末尾处添加:"></a>在末尾处添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export FLINK_HOME=/usr/local/src/flink</span><br><span class="line">export PATH=$PATH:$FLINK_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行环境变量让其生效"><a href="#执行环境变量让其生效" class="headerlink" title="执行环境变量让其生效:"></a>执行环境变量让其生效:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="进入到flink的conf配置下"><a href="#进入到flink的conf配置下" class="headerlink" title="进入到flink的conf配置下:"></a>进入到flink的conf配置下:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/flink/conf/</span><br></pre></td></tr></table></figure><h3 id="打开flink-conf-yaml文件"><a href="#打开flink-conf-yaml文件" class="headerlink" title="打开flink-conf.yaml文件"></a>打开flink-conf.yaml文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi flink-conf.yaml</span><br></pre></td></tr></table></figure><h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jobmanager.rpc.address: master</span><br></pre></td></tr></table></figure><h3 id="打开slaves文件"><a href="#打开slaves文件" class="headerlink" title="打开slaves文件"></a>打开slaves文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi slaves</span><br></pre></td></tr></table></figure><h3 id="删除全部添加如下"><a href="#删除全部添加如下" class="headerlink" title="删除全部添加如下"></a>删除全部添加如下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure><h3 id="打开masters文件"><a href="#打开masters文件" class="headerlink" title="打开masters文件"></a>打开masters文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi masters</span><br></pre></td></tr></table></figure><h3 id="修改-1"><a href="#修改-1" class="headerlink" title="修改:"></a>修改:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">master:8081</span><br></pre></td></tr></table></figure><h3 id="复制root目录下的flink的jar包到flink目录下的lib"><a href="#复制root目录下的flink的jar包到flink目录下的lib" class="headerlink" title="复制root目录下的flink的jar包到flink目录下的lib"></a>复制root目录下的flink的jar包到flink目录下的lib</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /root/flink-shaded-hadoop-2-uber-2.7.5-10.0.jar /usr/local/src/flink/lib/</span><br></pre></td></tr></table></figure><h3 id="把flink文件分发给slave1-slave2"><a href="#把flink文件分发给slave1-slave2" class="headerlink" title="把flink文件分发给slave1,slave2:"></a>把flink文件分发给slave1,slave2:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/flink/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/flink/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/#顺带分发环境</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><h3 id="切换slave1："><a href="#切换slave1：" class="headerlink" title="切换slave1："></a>切换slave1：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="切换slave2："><a href="#切换slave2：" class="headerlink" title="切换slave2："></a>切换slave2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务:"></a>启动服务:</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-cluster.sh </span><br></pre></td></tr></table></figure><h3 id="对齐进行测试："><a href="#对齐进行测试：" class="headerlink" title="对齐进行测试："></a>对齐进行测试：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flink run /usr/local/src/flink/examples/batch/WordCount.jar </span><br></pre></td></tr></table></figure><h3 id="接下去配置在yarn模式下："><a href="#接下去配置在yarn模式下：" class="headerlink" title="接下去配置在yarn模式下："></a>接下去配置在yarn模式下：</h3><p>编辑Hadoop配置下的yarn-site.xml文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/src/hadoop/etc/hadoop/yarn-site.xml </span><br></pre></td></tr></table></figure><h3 id="在中间添加"><a href="#在中间添加" class="headerlink" title="在中间添加:"></a>在<configuration></configuration>中间添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;</span><br><span class="line">&lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h3 id="接下去开始跑在yarn模式："><a href="#接下去开始跑在yarn模式：" class="headerlink" title="接下去开始跑在yarn模式："></a>接下去开始跑在yarn模式：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flink run -m yarn-cluster /usr/local/src/flink/examples/batch/WordCount.jar </span><br></pre></td></tr></table></figure><p>如果这里报错可以看看这个教程：<a href="https://blog.csdn.net/Zsigner/article/details/110949389">【FLINK】 No Executor found. Please make sure to export the HADOOP_CLASSPATH_Zsigner的博客-CSDN博客</a></p><p>​                                                                                                                                        ——周毅盛</p><p>​                                                                                                                                        2022/10/15</p>]]></content>
      
      
      <categories>
          
          <category> Flink </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Flink </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql安装</title>
      <link href="/2022/10/15/MySQL%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/15/MySQL%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="MYSQL配置"><a href="#MYSQL配置" class="headerlink" title="MYSQL配置"></a>MYSQL配置</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><p>我是直接安装在Hadoop下的，MySQL也可以单独安装在一个全新的Linux下，安装MySQL是为了hive而做的铺垫。</p><p>我们来到root目录下</p><h3 id="在root目录下我们发现了MySQL的压缩包对其进行解压"><a href="#在root目录下我们发现了MySQL的压缩包对其进行解压" class="headerlink" title="在root目录下我们发现了MySQL的压缩包对其进行解压:"></a>在root目录下我们发现了MySQL的压缩包对其进行解压:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xf /root/mysql-5.7.31-1.el7.x86_64.rpm-bundle.tar #这里我直接解压到当前目录下了</span><br><span class="line">yum remove mariadb-libs#删除mariadb-libs以防等等版本不兼容</span><br><span class="line">#依次进行以下安装，顺序注意不要乱哦！！！</span><br><span class="line">rpm -ivh mysql-community-common-5.7.31-1.el7.x86_64.rpm </span><br><span class="line">rpm -ivh mysql-community-libs*.rpm</span><br><span class="line">rpm -ivh mysql-community-client-5.7.31-1.el7.x86_64.rpm </span><br><span class="line">rpm -ivh --nodeps mysql-community-server-5.7.31-1.el7.x86_64.rpm </span><br><span class="line">rm -rf mysql-community-*#删除没用的文件，因为都已经安装完成了</span><br></pre></td></tr></table></figure><p>没错就是这么简单，这就安装成功啦！！！</p><h3 id="接下来我们去启动MySQL的服务"><a href="#接下来我们去启动MySQL的服务" class="headerlink" title="接下来我们去启动MySQL的服务"></a>接下来我们去启动MySQL的服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br><span class="line">systemctl enable mysqld#并设置开机自启</span><br></pre></td></tr></table></figure><h1 id="那既然我们启动了，不妨试试连接MySQL数据库呗！！！"><a href="#那既然我们启动了，不妨试试连接MySQL数据库呗！！！" class="headerlink" title="那既然我们启动了，不妨试试连接MySQL数据库呗！！！"></a>那既然我们启动了，不妨试试连接MySQL数据库呗！！！</h1><p>不过我们记得学校机房的MySQL用户名好像是root密码是123456</p><p>不妨我们来试试登录看可以用吗！！！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456</span><br></pre></td></tr></table></figure><h3 id="哦吼，弹出错误了"><a href="#哦吼，弹出错误了" class="headerlink" title="哦吼，弹出错误了"></a>哦吼，弹出错误了</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1045 (28000): Access denied for user &#x27;root&#x27;@&#x27;localhost&#x27; (using password: YES)</span><br></pre></td></tr></table></figure><h3 id="然后我们都知道MySQL肯定有root用户，但密码到底多少呢？"><a href="#然后我们都知道MySQL肯定有root用户，但密码到底多少呢？" class="headerlink" title="然后我们都知道MySQL肯定有root用户，但密码到底多少呢？"></a>然后我们都知道MySQL肯定有root用户，但密码到底多少呢？</h3><p>是不是废了，没办法了。</p><p>要不rm -rf /* 删库跑路吧</p><p>哈哈哈！！！</p><p>开玩笑的，其实我们可以通过查看日志去找密码的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /var/log/mysqld.log | grep password</span><br></pre></td></tr></table></figure><h3 id="控制台就会有密码啦："><a href="#控制台就会有密码啦：" class="headerlink" title="控制台就会有密码啦："></a>控制台就会有密码啦：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@localhost: .ZUeVuap?1rV</span><br></pre></td></tr></table></figure><h3 id="试着去连接吧，哦耶，既然登录成功了，那我们就把root用户改个密码吧。"><a href="#试着去连接吧，哦耶，既然登录成功了，那我们就把root用户改个密码吧。" class="headerlink" title="试着去连接吧，哦耶，既然登录成功了，那我们就把root用户改个密码吧。"></a>试着去连接吧，哦耶，既然登录成功了，那我们就把root用户改个密码吧。</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alter user &quot;root&quot;@&quot;localhost&quot; identified by &quot;Password123$&quot;;</span><br><span class="line">grant all privileges on *.* to &quot;root&quot;@&quot;%&quot; identified by &quot;Password123$&quot;;</span><br><span class="line">flush privileges;</span><br><span class="line">exit;</span><br></pre></td></tr></table></figure><p>本期内容到此结束啦！！！</p><p>我们下期再见！！！</p><p>​                                                                                                                                        ——周毅盛</p><p>​                                                                                                                                        2022/10/15</p>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flume安装</title>
      <link href="/2022/10/15/flume%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/15/flume%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Flume配置"><a href="#Flume配置" class="headerlink" title="Flume配置"></a>Flume配置</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><p>这个啥都不需要准备，开玩笑的哈哈！！！</p><p>flume是干嘛用的，有想过这个问题吗？？？</p><h3 id="这边我从百度摘抄一小段介绍一下flume"><a href="#这边我从百度摘抄一小段介绍一下flume" class="headerlink" title="这边我从百度摘抄一小段介绍一下flume"></a>这边我从百度摘抄一小段介绍一下flume</h3><p>Flume是Cloudera提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume支持在日志系统中定制各类数据发送方，用于收集数据；同时，Flume提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力。</p><h3 id="进入正题："><a href="#进入正题：" class="headerlink" title="进入正题："></a>进入正题：</h3><p>安装其实很简单也要学会如何使用哦！！！</p><h3 id="在root目录下有flume的压缩包进行解压"><a href="#在root目录下有flume的压缩包进行解压" class="headerlink" title="在root目录下有flume的压缩包进行解压:"></a>在root目录下有flume的压缩包进行解压:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/apache-flume-1.7.0-bin.tar.gz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/apache-flume-1.7.0-bin/ /usr/local/src/flume#依旧对文件夹进行改名</span><br><span class="line">vi /etc/profile#配置环境变量</span><br></pre></td></tr></table></figure><h3 id="在尾部添加"><a href="#在尾部添加" class="headerlink" title="在尾部添加:"></a>在尾部添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export FLUME_HOME=/usr/local/src/flume</span><br><span class="line">export PATH=$PATH:$FLUME_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行生效环境"><a href="#执行生效环境" class="headerlink" title="执行生效环境:"></a>执行生效环境:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="查看版本号"><a href="#查看版本号" class="headerlink" title="查看版本号:"></a>查看版本号:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flume-ng version</span><br></pre></td></tr></table></figure><h3 id="切换到flume的conf文件夹下配置"><a href="#切换到flume的conf文件夹下配置" class="headerlink" title="切换到flume的conf文件夹下配置"></a>切换到flume的conf文件夹下配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/flume/conf/</span><br></pre></td></tr></table></figure><h3 id="对文件flume-env-sh-template复制一份改名为flume-env-sh"><a href="#对文件flume-env-sh-template复制一份改名为flume-env-sh" class="headerlink" title="对文件flume-env.sh.template复制一份改名为flume-env.sh"></a>对文件flume-env.sh.template复制一份改名为flume-env.sh</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp flume-env.sh.template flume-env.sh</span><br></pre></td></tr></table></figure><h3 id="编辑flume-env-sh文件"><a href="#编辑flume-env-sh文件" class="headerlink" title="编辑flume-env.sh文件"></a>编辑flume-env.sh文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi flume-env.sh</span><br></pre></td></tr></table></figure><h3 id="修改如下"><a href="#修改如下" class="headerlink" title="修改如下:"></a>修改如下:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br></pre></td></tr></table></figure><h3 id="恭喜你学会了搭建flume啦！！！"><a href="#恭喜你学会了搭建flume啦！！！" class="headerlink" title="恭喜你学会了搭建flume啦！！！"></a>恭喜你学会了搭建flume啦！！！</h3><p>但好像还没结束耶！！！</p><p>似乎忘记了啥！！！</p><p>没错，你终于想起来了，还有使用教程！！！</p><h2 id="接下来我们来采集Hadoop日志吧，依旧还是在原来那个目录下没有切换目录哦！！！"><a href="#接下来我们来采集Hadoop日志吧，依旧还是在原来那个目录下没有切换目录哦！！！" class="headerlink" title="接下来我们来采集Hadoop日志吧，依旧还是在原来那个目录下没有切换目录哦！！！"></a>接下来我们来采集Hadoop日志吧，依旧还是在原来那个目录下没有切换目录哦！！！</h2><h3 id="在当前目录下打开simple-hdfs-flume-conf文件"><a href="#在当前目录下打开simple-hdfs-flume-conf文件" class="headerlink" title="在当前目录下打开simple-hdfs-flume.conf文件"></a>在当前目录下打开simple-hdfs-flume.conf文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi simple-hdfs-flume.conf</span><br></pre></td></tr></table></figure><h3 id="在末尾处添加"><a href="#在末尾处添加" class="headerlink" title="在末尾处添加:"></a>在末尾处添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a1.sources=r1</span><br><span class="line">a1.sinks=k1</span><br><span class="line">a1.channels=c1</span><br><span class="line">a1.sources.r1.type=spooldir</span><br><span class="line">a1.sources.r1.spoolDir=/usr/local/src/hadoop/logs</span><br><span class="line">a1.sources.r1.channels=c1</span><br><span class="line">a1.channels.c1.type=file</span><br><span class="line">a1.sinks.k1.type=hdfs</span><br><span class="line">a1.sinks.k1.hdfs.path=hdfs://master:9000/tmp/flume</span><br><span class="line">a1.sinks.k1.channel=c1</span><br></pre></td></tr></table></figure><h3 id="开始采集："><a href="#开始采集：" class="headerlink" title="开始采集："></a>开始采集：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flume-ng agent --conf-file simple-hdfs-flume.conf --name a1</span><br></pre></td></tr></table></figure><h3 id="随便切换一个虚拟机"><a href="#随便切换一个虚拟机" class="headerlink" title="随便切换一个虚拟机:"></a>随便切换一个虚拟机:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -ls /tmp/flume</span><br></pre></td></tr></table></figure><p>就会看到一堆日志我们就可以ctrl+c停止master的采集了</p><p>很简单吧！！！</p><p>​                                                                                                                                        ——周毅盛</p><p>​                                                                                                                                        2022/10/15                                                                                                                    2022/10/15</p>]]></content>
      
      
      <categories>
          
          <category> Flume </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Flume </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spark安装</title>
      <link href="/2022/10/15/Spark%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/15/Spark%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Spark配置"><a href="#Spark配置" class="headerlink" title="Spark配置"></a>Spark配置</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><p><em><strong>确保自己的Linux下已经安装好Hadoop全分布</strong></em></p><h3 id="这边我们先安装scala"><a href="#这边我们先安装scala" class="headerlink" title="这边我们先安装scala"></a>这边我们先安装scala</h3><h3 id="解压root目录下的Scala压缩包文件："><a href="#解压root目录下的Scala压缩包文件：" class="headerlink" title="解压root目录下的Scala压缩包文件："></a>解压root目录下的Scala压缩包文件：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/scala-2.11.0.tgz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/scala-2.11.0/ /usr/local/src/scala#对文件夹进行改名</span><br><span class="line">vi /etc/profile#编辑环境</span><br></pre></td></tr></table></figure><h3 id="在末尾添加："><a href="#在末尾添加：" class="headerlink" title="在末尾添加："></a>在末尾添加：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export SCALA_HOME=/usr/local/src/scala</span><br><span class="line">export PATH=$PATH:$SCALA_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行环境配置"><a href="#执行环境配置" class="headerlink" title="执行环境配置:"></a>执行环境配置:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">scala -version#查看是否安装成功和版本号</span><br></pre></td></tr></table></figure><h3 id="把Scala分发给slave1和slave2"><a href="#把Scala分发给slave1和slave2" class="headerlink" title="把Scala分发给slave1和slave2"></a>把Scala分发给slave1和slave2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/scala/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/scala/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/#顺带配置环境也分发给他们</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><h3 id="切换slave1："><a href="#切换slave1：" class="headerlink" title="切换slave1："></a>切换slave1：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">scala -version#查看是否安装成功和版本号</span><br></pre></td></tr></table></figure><h3 id="切换slave2"><a href="#切换slave2" class="headerlink" title="切换slave2:"></a>切换slave2:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">scala -version#查看是否安装成功和版本号</span><br></pre></td></tr></table></figure><h2 id="到安装spark啦！！！"><a href="#到安装spark啦！！！" class="headerlink" title="到安装spark啦！！！"></a>到安装spark啦！！！</h2><h3 id="解压root目录下的Spark压缩包文件"><a href="#解压root目录下的Spark压缩包文件" class="headerlink" title="解压root目录下的Spark压缩包文件:"></a>解压root目录下的Spark压缩包文件:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/spark-2.1.1-bin-hadoop2.7.tgz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/spark-2.1.1-bin-hadoop2.7/ /usr/local/src/spark#对文件夹进行改名</span><br><span class="line">vi /etc/profile#修改环境变量</span><br></pre></td></tr></table></figure><h3 id="在尾部添加"><a href="#在尾部添加" class="headerlink" title="在尾部添加:"></a>在尾部添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export SPARK_HOME=/usr/local/src/spark</span><br><span class="line">export PATH=$PATH:$SPARK_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行配置文件"><a href="#执行配置文件" class="headerlink" title="执行配置文件:"></a>执行配置文件:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="切换到spark目录下的conf文件夹进行修改里面的配置"><a href="#切换到spark目录下的conf文件夹进行修改里面的配置" class="headerlink" title="切换到spark目录下的conf文件夹进行修改里面的配置"></a>切换到spark目录下的conf文件夹进行修改里面的配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/spark/conf/</span><br></pre></td></tr></table></figure><h3 id="复制spark-env-sh-template一份并改名为spark-env-sh"><a href="#复制spark-env-sh-template一份并改名为spark-env-sh" class="headerlink" title="复制spark-env.sh.template一份并改名为spark-env.sh"></a>复制spark-env.sh.template一份并改名为spark-env.sh</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp spark-env.sh.template spark-env.sh</span><br></pre></td></tr></table></figure><h3 id="打开spark-env-sh文件"><a href="#打开spark-env-sh文件" class="headerlink" title="打开spark-env.sh文件"></a>打开spark-env.sh文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi spark-env.sh</span><br></pre></td></tr></table></figure><h3 id="在尾部添加-1"><a href="#在尾部添加-1" class="headerlink" title="在尾部添加:"></a>在尾部添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br><span class="line">export HADOOP_CONF_DIR=/usr/local/src/hadoop/etc/hadoop</span><br><span class="line"></span><br><span class="line">#下面是可选</span><br><span class="line">export SPARK_MASTER_HOST=master</span><br><span class="line">export SPARK_WORKER_CORES=2#cpu核数</span><br><span class="line">export SPARK_WORKER_MEMORY=2g#内存大小</span><br></pre></td></tr></table></figure><h3 id="复制slaves-template一份并改名为slaves"><a href="#复制slaves-template一份并改名为slaves" class="headerlink" title="复制slaves.template一份并改名为slaves:"></a>复制slaves.template一份并改名为slaves:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp slaves.template  slaves</span><br></pre></td></tr></table></figure><h3 id="打开slaves文件"><a href="#打开slaves文件" class="headerlink" title="打开slaves文件"></a>打开slaves文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi slaves</span><br></pre></td></tr></table></figure><h3 id="把底部的localhost改为"><a href="#把底部的localhost改为" class="headerlink" title="把底部的localhost改为:"></a>把底部的localhost改为:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure><h3 id="把文件分发给slave1，slave2："><a href="#把文件分发给slave1，slave2：" class="headerlink" title="把文件分发给slave1，slave2："></a>把文件分发给slave1，slave2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/spark/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/spark/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><h3 id="切换slave1：-1"><a href="#切换slave1：-1" class="headerlink" title="切换slave1："></a>切换slave1：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="切换slave2-1"><a href="#切换slave2-1" class="headerlink" title="切换slave2:"></a>切换slave2:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h2 id="恭喜你搭建完成了！！！"><a href="#恭喜你搭建完成了！！！" class="headerlink" title="恭喜你搭建完成了！！！"></a>恭喜你搭建完成了！！！</h2><h3 id="快去试着启动spark吧"><a href="#快去试着启动spark吧" class="headerlink" title="快去试着启动spark吧"></a>快去试着启动spark吧</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/src/spark/sbin/start-all.sh </span><br></pre></td></tr></table></figure><h3 id="三台机子分别输入"><a href="#三台机子分别输入" class="headerlink" title="三台机子分别输入:"></a>三台机子分别输入:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure><h3 id="在master下有"><a href="#在master下有" class="headerlink" title="在master下有:"></a>在master下有:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">17904 Jps</span><br><span class="line">17826 Master</span><br><span class="line">16892 SecondaryNameNode</span><br><span class="line">17052 ResourceManager</span><br><span class="line">16702 NameNode</span><br></pre></td></tr></table></figure><h3 id="在slave1"><a href="#在slave1" class="headerlink" title="在slave1:"></a>在slave1:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">10193 Worker</span><br><span class="line">10244 Jps</span><br><span class="line">1848 DataNode</span><br><span class="line">1946 NodeManager</span><br></pre></td></tr></table></figure><h3 id="在slave2"><a href="#在slave2" class="headerlink" title="在slave2:"></a>在slave2:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">10161 Worker</span><br><span class="line">1844 DataNode</span><br><span class="line">10213 Jps</span><br><span class="line">1942 NodeManager</span><br></pre></td></tr></table></figure><h3 id="查看cpu核数"><a href="#查看cpu核数" class="headerlink" title="查看cpu核数:"></a>查看cpu核数:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo |grep proc</span><br></pre></td></tr></table></figure><h3 id="查看详细信息"><a href="#查看详细信息" class="headerlink" title="查看详细信息:"></a>查看详细信息:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free</span><br></pre></td></tr></table></figure><p>我们可以访问<a href="http://192.168.247.3:8080/">http://192.168.247.3:8080</a></p><h2 id="接下去是对Spark进行测试"><a href="#接下去是对Spark进行测试" class="headerlink" title="接下去是对Spark进行测试"></a>接下去是对Spark进行测试</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark-submit --class org.apache.spark.examples.SparkPi --master spark://master:7077 /usr/local/src/spark/examples/jars/spark-examples_2.11-2.1.1.jar </span><br></pre></td></tr></table></figure><h3 id="当看到"><a href="#当看到" class="headerlink" title="当看到:"></a>当看到:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pi is roughly 3.1354156770783854</span><br></pre></td></tr></table></figure><h3 id="表示运行成功！！！"><a href="#表示运行成功！！！" class="headerlink" title="表示运行成功！！！"></a>表示运行成功！！！</h3><h2 id="接下去就是spark的yarn模式啦"><a href="#接下去就是spark的yarn模式啦" class="headerlink" title="接下去就是spark的yarn模式啦~~~"></a>接下去就是spark的yarn模式啦~~~</h2><h3 id="编辑hadoop配置下的yarn-site-xml-文件"><a href="#编辑hadoop配置下的yarn-site-xml-文件" class="headerlink" title="编辑hadoop配置下的yarn-site.xml 文件"></a>编辑hadoop配置下的yarn-site.xml 文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/src/hadoop/etc/hadoop/yarn-site.xml </span><br></pre></td></tr></table></figure><h3 id="在中间添加"><a href="#在中间添加" class="headerlink" title="在中间添加:"></a>在<configuration></configuration>中间添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;</span><br><span class="line">&lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><h3 id="将被修改的文件分发给slave1，slave2覆盖原来的配置："><a href="#将被修改的文件分发给slave1，slave2覆盖原来的配置：" class="headerlink" title="将被修改的文件分发给slave1，slave2覆盖原来的配置："></a>将被修改的文件分发给slave1，slave2覆盖原来的配置：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp /usr/local/src/hadoop/etc/hadoop/yarn-site.xml slave1:/usr/local/src/hadoop/etc/hadoop/</span><br><span class="line">scp /usr/local/src/hadoop/etc/hadoop/yarn-site.xml slave2:/usr/local/src/hadoop/etc/hadoop/</span><br></pre></td></tr></table></figure><h3 id="重启yarn服务"><a href="#重启yarn服务" class="headerlink" title="重启yarn服务:"></a>重启yarn服务:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stop-yarn.sh</span><br><span class="line">start-yarn.sh </span><br></pre></td></tr></table></figure><h3 id="对yarn模式进行测试"><a href="#对yarn模式进行测试" class="headerlink" title="对yarn模式进行测试:"></a>对yarn模式进行测试:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark-submit --class org.apache.spark.examples.SparkPi --master yarn /usr/local/src/spark/examples/jars/spark-examples_2.11-2.1.1.jar </span><br></pre></td></tr></table></figure><h3 id="当看到-1"><a href="#当看到-1" class="headerlink" title="当看到:"></a>当看到:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pi is roughly 3.135715678578393</span><br></pre></td></tr></table></figure><h3 id="则证明成功！！！"><a href="#则证明成功！！！" class="headerlink" title="则证明成功！！！"></a>则证明成功！！！</h3><h2 id="我们在试试跑本地的吧"><a href="#我们在试试跑本地的吧" class="headerlink" title="我们在试试跑本地的吧"></a>我们在试试跑本地的吧</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark-submit --class org.apache.spark.examples.SparkPi --master local[*] /usr/local/src/spark/examples/jars/spark-examples_2.11-2.1.1.jar </span><br></pre></td></tr></table></figure><h3 id="当看到-2"><a href="#当看到-2" class="headerlink" title="当看到:"></a>当看到:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pi is roughly 3.1391956959784797</span><br></pre></td></tr></table></figure><p>​                                                                                                                                            ——周毅盛</p><p>​                                                                                                                                            2022/10/15                                                                                                                                    2022/10/15</p>]]></content>
      
      
      <categories>
          
          <category> Spark </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Spark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zookeeper安装</title>
      <link href="/2022/10/15/Zookeeper%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/15/Zookeeper%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="Zookeeper配置"><a href="#Zookeeper配置" class="headerlink" title="Zookeeper配置"></a>Zookeeper配置</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><ol><li>创建一台纯净Linux并配置好静态IP</li><li>克隆俩台Linux</li><li>更改俩台Linux的IP地址( vi /etc/sysconfig/network-scripts/ifcfg-ens33 )</li></ol><p>​    列如：master:192.168.0.2</p><p>​                slave1: 192.168.0.3</p><p>​                slave2: 192.168.0.4</p><h3 id="到root目录下找到zookeeper的压缩包进行解压："><a href="#到root目录下找到zookeeper的压缩包进行解压：" class="headerlink" title="到root目录下找到zookeeper的压缩包进行解压："></a>到root目录下找到zookeeper的压缩包进行解压：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/zookeeper-3.4.6.tar.gz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/zookeeper-3.4.6/ /usr/local/src/zookeeper#对文件夹进行重命名</span><br><span class="line">vi /etc/profile#编辑环境变量</span><br></pre></td></tr></table></figure><h3 id="在末尾处添加："><a href="#在末尾处添加：" class="headerlink" title="在末尾处添加："></a>在末尾处添加：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZK_HOME=/usr/local/src/zookeeper</span><br><span class="line">export PATH=$PATH:$ZK_HOME/bin</span><br></pre></td></tr></table></figure><h3 id="执行配置文件"><a href="#执行配置文件" class="headerlink" title="执行配置文件:"></a>执行配置文件:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="进入到zookeeper的conf配置下"><a href="#进入到zookeeper的conf配置下" class="headerlink" title="进入到zookeeper的conf配置下:"></a>进入到zookeeper的conf配置下:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/zookeeper/conf/</span><br></pre></td></tr></table></figure><h3 id="复制zoo-sample-cfg一份并改名为zoo-cfg"><a href="#复制zoo-sample-cfg一份并改名为zoo-cfg" class="headerlink" title="复制zoo_sample.cfg一份并改名为zoo.cfg"></a>复制zoo_sample.cfg一份并改名为zoo.cfg</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure><h3 id="打开zoo-cfg"><a href="#打开zoo-cfg" class="headerlink" title="打开zoo.cfg"></a>打开zoo.cfg</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi zoo.cfg</span><br></pre></td></tr></table></figure><h3 id="修改文件里的"><a href="#修改文件里的" class="headerlink" title="修改文件里的:"></a>修改文件里的:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataDir=/usr/local/src/zookeeper/data</span><br></pre></td></tr></table></figure><h3 id="在文件末尾添加"><a href="#在文件末尾添加" class="headerlink" title="在文件末尾添加:"></a>在文件末尾添加:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">server.1=master:2888:3888</span><br><span class="line">server.2=slave1:2888:3888</span><br><span class="line">server.3=slave2:2888:3888</span><br></pre></td></tr></table></figure><h3 id="在zookeeper下创建data文件"><a href="#在zookeeper下创建data文件" class="headerlink" title="在zookeeper下创建data文件"></a>在zookeeper下创建data文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/local/src/zookeeper/data</span><br></pre></td></tr></table></figure><h3 id="利用重定向在刚刚建立的data下写进1保存在myid"><a href="#利用重定向在刚刚建立的data下写进1保存在myid" class="headerlink" title="利用重定向在刚刚建立的data下写进1保存在myid"></a>利用重定向在刚刚建立的data下写进1保存在myid</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 1 &gt; /usr/local/src/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h3 id="将zookeeper文件分发给slave1-slave2："><a href="#将zookeeper文件分发给slave1-slave2：" class="headerlink" title="将zookeeper文件分发给slave1,slave2："></a>将zookeeper文件分发给slave1,slave2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/zookeeper/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/zookeeper/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/#顺带分发环境给他们</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><h3 id="切换slave1"><a href="#切换slave1" class="headerlink" title="切换slave1:"></a>切换slave1:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">echo 2 &gt; /usr/local/src/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h3 id="切换slave2"><a href="#切换slave2" class="headerlink" title="切换slave2:"></a>切换slave2:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">echo 3 &gt; /usr/local/src/zookeeper/data/myid</span><br></pre></td></tr></table></figure><h3 id="三台输入启动"><a href="#三台输入启动" class="headerlink" title="三台输入启动:"></a>三台输入启动:</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br><span class="line">zkServer.sh status#查看状态</span><br></pre></td></tr></table></figure><p>其中俩台是follower，一台是leader。</p><h3 id="恭喜你搭建动物园管理器成功了！！！"><a href="#恭喜你搭建动物园管理器成功了！！！" class="headerlink" title="恭喜你搭建动物园管理器成功了！！！"></a>恭喜你搭建动物园管理器成功了！！！</h3><p>​                                                                                                                                        ——周毅盛</p><p>​                                                                                                                                        2022/10/15                                                                                                                    2022/10/15</p>]]></content>
      
      
      <categories>
          
          <category> Zookeeper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
            <tag> Zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop全分布安装</title>
      <link href="/2022/10/15/Hadoop%E5%85%A8%E5%88%86%E5%B8%83/"/>
      <url>/2022/10/15/Hadoop%E5%85%A8%E5%88%86%E5%B8%83/</url>
      
        <content type="html"><![CDATA[<h1 id="Hadoop-全分布安装"><a href="#Hadoop-全分布安装" class="headerlink" title="Hadoop(全分布安装)"></a>Hadoop(全分布安装)</h1><h2 id="实验前准备："><a href="#实验前准备：" class="headerlink" title="实验前准备："></a>实验前准备：</h2><p>​                                                                                                    ———只有不断学习方能顺应时代发展。</p><p>废话不多说，进入正题：</p><p>准备如下环境</p><ol><li>创建一台纯净Linux并配置好静态IP</li><li>克隆俩台Linux</li><li>更改俩台Linux的IP地址( vi /etc/sysconfig/network-scripts/ifcfg-ens33 )</li></ol><p>​    列如：master:192.168.0.2</p><p>​                slave1: 192.168.0.3</p><p>​                slave2: 192.168.0.4</p><h4 id="查询防火墙状态："><a href="#查询防火墙状态：" class="headerlink" title="查询防火墙状态："></a>查询防火墙状态：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><h4 id="关闭防火墙："><a href="#关闭防火墙：" class="headerlink" title="关闭防火墙："></a>关闭防火墙：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><h4 id="关闭防护墙自启："><a href="#关闭防护墙自启：" class="headerlink" title="关闭防护墙自启："></a>关闭防护墙自启：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewall</span><br></pre></td></tr></table></figure><h4 id="查询SELinux："><a href="#查询SELinux：" class="headerlink" title="查询SELinux："></a>查询SELinux：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sestatus</span><br></pre></td></tr></table></figure><h4 id="关闭SELinux："><a href="#关闭SELinux：" class="headerlink" title="关闭SELinux："></a>关闭SELinux：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br></pre></td></tr></table></figure><h2 id="注：防火墙和SELinux未关闭会导致Hadoop和Zookeeper等进行运行启动失败"><a href="#注：防火墙和SELinux未关闭会导致Hadoop和Zookeeper等进行运行启动失败" class="headerlink" title="注：防火墙和SELinux未关闭会导致Hadoop和Zookeeper等进行运行启动失败"></a><strong>注：防火墙和SELinux未关闭会导致Hadoop和Zookeeper等进行运行启动失败</strong></h2><h3 id="更改主机名："><a href="#更改主机名：" class="headerlink" title="更改主机名："></a>更改主机名：</h3><p>主机一：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname master</span><br><span class="line">bash</span><br></pre></td></tr></table></figure><p>主机二：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname slave1</span><br><span class="line">bash</span><br></pre></td></tr></table></figure><p>主机三：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname slave2</span><br><span class="line">bash</span><br></pre></td></tr></table></figure><h4 id="分别对三台Linux编辑："><a href="#分别对三台Linux编辑：" class="headerlink" title="分别对三台Linux编辑："></a>分别对三台Linux编辑：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure><p>末尾处添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.0.2 master</span><br><span class="line">192.168.0.3 slave1</span><br><span class="line">192.168.0.4 slave2</span><br></pre></td></tr></table></figure><p>尝试ping：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ping master</span><br><span class="line">ping slave1</span><br><span class="line">ping slave2</span><br></pre></td></tr></table></figure><h4 id="添加完毕做免密登录："><a href="#添加完毕做免密登录：" class="headerlink" title="添加完毕做免密登录："></a>添加完毕做免密登录：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -P &#x27;&#x27;    #生成密钥</span><br><span class="line">ssh-copy-id master      #将密码分布拷贝给master，slave1，slave2</span><br><span class="line">ssh-copy-id slave1</span><br><span class="line">ssh-copy-id slave2</span><br></pre></td></tr></table></figure><p>尝试登录验证是否成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh master</span><br><span class="line">exit#退出登录</span><br><span class="line">ssh slave1</span><br><span class="line">exit</span><br><span class="line">ssh slave2</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h4 id="到root用户下进行解压jdk压缩包"><a href="#到root用户下进行解压jdk压缩包" class="headerlink" title="到root用户下进行解压jdk压缩包:"></a>到root用户下进行解压jdk压缩包:</h4><h3 id="注：如下没说切换到哪个主机下默认都是master下哦！！！"><a href="#注：如下没说切换到哪个主机下默认都是master下哦！！！" class="headerlink" title="注：如下没说切换到哪个主机下默认都是master下哦！！！"></a><em>注：如下没说切换到哪个主机下默认都是master下哦！！！</em></h3><p>这边解压到**/usr/local/src**目录下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/jdk-8u162-linux-x64.tar.gz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/jdk1.8.0_162/ /usr/local/src/jdk #对文件夹进行改名</span><br><span class="line">vi /etc/profile   #配置环境变量</span><br></pre></td></tr></table></figure><p>在末尾处添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure><p>执行文件:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">java -version#检查环境是否配置成功</span><br></pre></td></tr></table></figure><p>把**/usr/local/src/jdk**分发给slave1和slave2：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/jdk/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/jdk/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/   #并把配置分发给他们</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><p>切换到slave1：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure><p>切换到slave2：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure><p><em><strong>接下去进入正题了哦！！！</strong></em></p><h4 id="到root目录下解压Hadoop的压缩包："><a href="#到root目录下解压Hadoop的压缩包：" class="headerlink" title="到root目录下解压Hadoop的压缩包："></a>到root目录下解压Hadoop的压缩包：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf /root/hadoop-2.7.7.tar.gz -C /usr/local/src/</span><br><span class="line">mv /usr/local/src/hadoop-2.7.7/ /usr/local/src/hadoop#对文件夹进行改名</span><br><span class="line">vi /etc/profile#配置环境</span><br></pre></td></tr></table></figure><p>在末尾处添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/usr/local/src/hadoop</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure><p>执行环境变量:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line">hadoop verison#检查环境变量是否配置成功，查看Hadoop版本号</span><br></pre></td></tr></table></figure><p>切换到Hadoop的<strong>etc/hadoop</strong>目录下进行配置:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/hadoop/etc/hadoop/</span><br><span class="line">vi hadoop-env.sh #编辑hadoop-env.sh这个文件</span><br></pre></td></tr></table></figure><p>修改该文件下的:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/src/jdk</span><br></pre></td></tr></table></figure><p>打开core-site.xml文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi core-site.xml </span><br></pre></td></tr></table></figure><p>在<configuration></configuration>中间添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/usr/local/src/hadoop/tmp&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">&lt;value&gt;hdfs://master:9000&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><p>打开hdfs-site.xml 文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi hdfs-site.xml </span><br></pre></td></tr></table></figure><p>在<configuration></configuration>中间添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/usr/local/src/hadoop/name&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/usr/local/src/hadoop/data&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">&lt;value&gt;3&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master:50090&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><p>打开yarn-site.xml文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi yarn-site.xml </span><br></pre></td></tr></table></figure><p>在<configuration></configuration>中间添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">&lt;value&gt;master&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><p>复制一份<strong>mapred-site.xml.template</strong>并且改名为<strong>mapred-site.xml</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp mapred-site.xml.template mapred-site.xml</span><br></pre></td></tr></table></figure><p>打开mapred-site.xml文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi mapred-site.xml</span><br></pre></td></tr></table></figure><p>在<configuration></configuration>中间添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure><p>打开slaves文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi slaves</span><br></pre></td></tr></table></figure><p>删除全部添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure><p>从master的Hadoop分发给slave1,slave2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/local/src/hadoop/ slave1:/usr/local/src/</span><br><span class="line">scp -r /usr/local/src/hadoop/ slave2:/usr/local/src/</span><br><span class="line">scp /etc/profile slave1:/etc/   #并把配置分发给他们</span><br><span class="line">scp /etc/profile slave2:/etc/</span><br></pre></td></tr></table></figure><p>切换到slave1：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><p>切换到slave2：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="恭喜你快完成搭建了-≧▽≦"><a href="#恭喜你快完成搭建了-≧▽≦" class="headerlink" title="恭喜你快完成搭建了**(≧▽≦)**"></a>恭喜你快完成搭建了**(≧▽≦)**</h3><p>接下来到初始化Hadoop了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure><p>如看到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">22/10/15 22:18:18 INFO namenode.FSImage: Allocated new BlockPoolId: BP-1041528234-192.168.247.3-1665843498730</span><br><span class="line">22/10/15 22:18:18 INFO common.Storage: Storage directory /usr/local/src/hadoop/name has been successfully formatted.</span><br><span class="line">22/10/15 22:18:18 INFO namenode.FSImageFormatProtobuf: Saving image file /usr/local/src/hadoop/name/current/fsimage.ckpt_0000000000000000000 using no compression</span><br><span class="line">22/10/15 22:18:18 INFO namenode.FSImageFormatProtobuf: Image file /usr/local/src/hadoop/name/current/fsimage.ckpt_0000000000000000000 of size 321 bytes saved in 0 seconds.</span><br><span class="line">22/10/15 22:18:18 INFO namenode.NNStorageRetentionManager: Going to retain 1 images with txid &gt;= 0</span><br><span class="line">22/10/15 22:18:18 INFO util.ExitUtil: Exiting with status 0</span><br><span class="line">22/10/15 22:18:18 INFO namenode.NameNode: SHUTDOWN_MSG: </span><br><span class="line">/************************************************************</span><br><span class="line">SHUTDOWN_MSG: Shutting down NameNode at master/192.168.247.3</span><br><span class="line">************************************************************/</span><br></pre></td></tr></table></figure><p>证明初始化成功！！！</p><p>则我们可以去启动集群了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-all.sh </span><br></pre></td></tr></table></figure><p>分别在三台Linux下输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps#查看进程</span><br></pre></td></tr></table></figure><p>在master下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">17314 Jps</span><br><span class="line">16892 SecondaryNameNode</span><br><span class="line">17052 ResourceManager</span><br><span class="line">16702 NameNode</span><br></pre></td></tr></table></figure><p>在slave1下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2051 Jps</span><br><span class="line">1848 DataNode</span><br><span class="line">1946 NodeManager</span><br></pre></td></tr></table></figure><p>在slave2下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1844 DataNode</span><br><span class="line">1942 NodeManager</span><br><span class="line">2046 Jps</span><br></pre></td></tr></table></figure><h3 id="则证明启动成功！！！离成功又更。。。进了一步了"><a href="#则证明启动成功！！！离成功又更。。。进了一步了" class="headerlink" title="则证明启动成功！！！离成功又更。。。进了一步了"></a>则证明启动成功！！！离成功又更。。。进了一步了</h3><p>可以到游览器下访问<a href="http://192.168.0.2:50070就可以访问到了">http://192.168.0.2:50070就可以访问到了</a></p><p>yarn的地址则是：<a href="http://192.168.0.2:8088/">http://192.168.0.2:8088</a></p><h4 id="接下去对Hadoop进行测试使用"><a href="#接下去对Hadoop进行测试使用" class="headerlink" title="接下去对Hadoop进行测试使用:"></a>接下去对Hadoop进行测试使用:</h4><p>在Hadoop平台上创建文件夹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /in#这里我创建的文件夹名是in</span><br><span class="line">cd /root#切换到root目录下</span><br><span class="line">vi test.txt#编辑test.txt文件</span><br></pre></td></tr></table></figure><p>随便输入点单词:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello xz</span><br><span class="line">lucky xz</span><br></pre></td></tr></table></figure><p>将文件上传到我们刚刚<strong>hadoop</strong>平台上新建<strong>in</strong>的文件夹下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -put /root/test.txt /in</span><br></pre></td></tr></table></figure><p>切换到Hadoop的计算单词的程序下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/hadoop/share/hadoop/mapreduce/</span><br></pre></td></tr></table></figure><p>对刚刚传上去的文件进行计算:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop jar hadoop-mapreduce-examples-2.7.7.jar wordcount /in/test.txt /out#out是输出的在这个目录下</span><br></pre></td></tr></table></figure><p>接下去就是开始计算单词啦~~~~</p><p>等待计算完成</p><p>查看Hadoop平台上的out目录下的文件:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -ls /out</span><br></pre></td></tr></table></figure><p>此时此刻我们发现了/out/part-r-00000,使用cat命令赶紧查看一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -cat /out/part-*      #这里是使用正则表达式的去匹配</span><br></pre></td></tr></table></figure><p>输出了单词数:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello1</span><br><span class="line">lucky1</span><br><span class="line">xz2</span><br></pre></td></tr></table></figure><p>恭喜你学会搭建Hadoop全分布啦！！！</p><p>没错就是这么简单！！！</p><p>继续努力！！！</p><p>◉‿◉</p><p>​                                                                                                                                        ——周毅盛</p><p>​                                                                                                                                        2022/10/15</p><h1 id="接下去是报错总结啦！！！"><a href="#接下去是报错总结啦！！！" class="headerlink" title="接下去是报错总结啦！！！"></a>接下去是报错总结啦！！！</h1><h3 id="如果遇到存储空间全是0b的话那就是初始化的有问题了或者是偶尔有节点然后过一会又掉节点的话多半是初始化的id进行冲突了"><a href="#如果遇到存储空间全是0b的话那就是初始化的有问题了或者是偶尔有节点然后过一会又掉节点的话多半是初始化的id进行冲突了" class="headerlink" title="如果遇到存储空间全是0b的话那就是初始化的有问题了或者是偶尔有节点然后过一会又掉节点的话多半是初始化的id进行冲突了"></a>如果遇到存储空间全是0b的话那就是初始化的有问题了或者是偶尔有节点然后过一会又掉节点的话多半是初始化的id进行冲突了</h3><p>这里我们可以到各个节点下去删除对应的 logs,tmp,data,name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /usr/local/src/hadoop/logs</span><br><span class="line">rm -rf /usr/local/src/hadoop/tmp</span><br><span class="line">rm -rf /usr/local/src/hadoop/data</span><br><span class="line">rm -rf /usr/local/src/hadoop/name</span><br></pre></td></tr></table></figure><p>记住三台都要删的哦！！！</p><p>然后进行重新初始化就好了！！！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop namenode -format</span><br></pre></td></tr></table></figure><p>如果遇到少节点了请去查看配置是否有漏打或者打错的哦！！！</p><p>在这里我在提一句记得关闭防火墙！！！</p><p>​                                记得关闭防火墙！！！</p><p>​                                记得关闭防火墙！！！</p>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
            <tag> Linux </tag>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
